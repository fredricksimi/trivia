<script setup>
import { ref } from 'vue'
import { getFirestore, collection, doc, setDoc, arrayUnion, FieldValue } from "firebase/firestore";
import { initializeApp } from 'firebase/app';
import firebaseConfig from '../config/firebase'
const app = initializeApp(firebaseConfig);
const mydb = getFirestore(app)
const theOptions = ref([])
const checkedOptions = ref(theOptions)
const sform = ref(true)
const showform = ref(sform)
const banner = ref(false)
const successBanner = ref(banner)
const img = ref(false)
const showImg = ref(img)
const pageSevenRef = collection(mydb, 'page-seven')
async function submitResponse(){
    console.log(checkedOptions.value)
    await setDoc(doc(pageSevenRef, 'latestspicyhits'),{
        response: arrayUnion(...checkedOptions.value)
    }).then(function(){
        console.log(checkedOptions)
        showform.value = false
        showImg.value = true
        successBanner.value = true
    })
}

</script>
<template>
    <div class="container">
        <h2 class="text-center pt-1" style="font-weight:bold"><span style="color:#bfbfbf!important;">ğŸ‘‰Sugar...Spice...</span>and everything nice ğŸ¥µ</h2>
        <div class="d-flex justify-content-center">
            <img v-if="showform" src="../assets/images/powerpuff-girls-sugar.gif" class="img-fluid" style="width:230px;height:auto">
        </div>
        <h3 class="text-center pt-4" v-if="showform" style="font-weight:bolder">ğŸ•ºğŸ’ƒPlaying the latest hits. Top 10 spicy ones just for youğŸ«µ</h3>
        <h2 class="text-center pt-2" v-if="showform">ğŸ—¹ Yay! ....or.... â˜ Naaah!</h2>
        <h3 class="text-center pt-2" v-if="showform">â€¼ï¸Read All Green first, followed by all of grey, then purpleâ€¼ï¸</h3>
        <div class="container pt-2">
            <form method="POST" v-if="showform">
                <div class="row">
                    <div class="col-md-4">
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(169, 255, 121);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="TabasamuğŸ˜Š ya kuchanganya mimi pamoja na jogoo za BungomağŸ“"
                            > <label>TabasamuğŸ˜Š ya kuchanganya mimi pamoja na jogoo za BungomağŸ“</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(169, 255, 121);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="Leta rentğŸ’°, you've been living in my head for free."
                            > <label>Leta rentğŸ’°, you've been living in my head for free.</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(169, 255, 121);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="I know a few languages, lingualğŸ—£ï¸ and programmingğŸ’». But there is one I understand quite well. Your body is calling me, that's your body language."
                            > <label>I know a few languages, lingualğŸ—£ï¸ and programmingğŸ’». But there is one I understand quite well. Your body is calling me, that's your <span class="text-small">body language.</span></label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(169, 255, 121);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="You are tinyğŸ’¯, but I love your big sweet heartğŸ«€"
                            > <label>You are tinyğŸ’¯, but I love your big sweet heartğŸ«€</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(169, 255, 121);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="Speaking of sweet, I'd love to lickğŸ‘… honey off of your thick juicy thighsğŸ—"
                            > <label>Speaking of sweet, I'd love to lickğŸ‘… honey off of your thick juicy thighsğŸ—</label>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="my-3" style="width:100%;height:fit-content;background-color: #eee;border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="Najua wewe ni cybersecurity analystğŸ‘©â€ğŸ’» and I want you to do some penetration testingğŸ‘¨â€ğŸ’» with me"
                            > <label>Najua wewe ni cybersecurity analystğŸ‘©â€ğŸ’» and I want you to do some penetration testingğŸ‘¨â€ğŸ’» with me</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: #eee;border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="ğŸ¶Sura yako muzuri mamaaaa aaah muzuri mamaaaa aaahğŸ¶"
                            > <label>ğŸ¶Sura yako muzuri mamaaaa aaah muzuri mamaaaa aaahğŸ¶</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: #eee;border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="Your short height won't matter when you're on all fours ğŸ“ğŸ“"
                            > <label>Your short height won't matter when you're on all fours ğŸ“ğŸ“</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: #eee;border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="Wassuuuup Big Butt Betty Gyaaaaaal ğŸ‘‹ğŸ˜„"
                            > <label>Wassuuuup Big Butt Betty Gyaaaaaal ğŸ‘‹ğŸ˜„</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: #eee;border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="Ni kama mvua imeisha kwenu, come I make you wetter ğŸ’¦"
                            > <label>Ni kama mvua imeisha kwenu, come I make you wetter ğŸ’¦</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: #eee;border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="I'm not Harry Potter but I can show you magic with my wand ğŸª„"
                            > <label>I'm not Harry Potter but I can show you magic with my wand ğŸª„</label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(140, 53, 244);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="RosesğŸŒ¹ are red, violets are blueğŸ”µ. You can spell your name, when I am under you ğŸ«¡"
                            > <label class="text-white">RosesğŸŒ¹ are red, violets are blueğŸ”µ. You can spell your name, when I am under you ğŸ«¡</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(140, 53, 244);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="Call me your teacherğŸ‘¨â€ğŸ« and I'll give bring the whips, call me your preacherâœï¸ and I'll give you holy water, call me your vampireğŸ§› and I'll suck you dry"
                            > <label class="text-white">Call me your teacherğŸ‘¨â€ğŸ« and I'll give bring the whips, call me your preacherâœï¸ and I'll give you holy water, call me your vampireğŸ§› and I'll suck you dry</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(140, 53, 244);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="I know you hate breakfastğŸ¥±, but you'll love my sausage, eggs and milk ğŸ‘¨â€ğŸ³"
                            > <label class="text-white">I know you hate breakfastğŸ¥±, but you'll love my sausage, eggs and milk ğŸ‘¨â€ğŸ³</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(140, 53, 244);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="You're my sugarğŸ¦, I'm your spiceğŸŒ¶ï¸. Together we're everything nice ğŸ¤—"
                            > <label class="text-white">You're my sugarğŸ¦, I'm your spiceğŸŒ¶ï¸. Together we're everything nice ğŸ¤—</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(140, 53, 244);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="My brainğŸ§  has stopped brainingğŸ˜µ"
                            > <label class="text-white">My brainğŸ§  has stopped brainingğŸ˜µ</label>
                        </div>
                        <div class="my-3" style="width:100%;height:fit-content;background-color: rgb(140, 53, 244);border-radius: 20px;padding: 20px;" aria-checked="false" aria-disabled="false" role="radio" tabindex="0">
                            <input type="checkbox" v-model="checkedOptions"
                            value="Kumbe zimefika sixteen, ni vile unanichanganyisha btw ğŸ˜µâ€ğŸ’«"
                            > <label class="text-white">Kumbe zimefika sixteen, ni vile unanichanganyisha btw ğŸ˜µâ€ğŸ’«</label>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center">
                    <button class="btn btn-lg btn-success" @click.prevent="submitResponse">
                        Submit
                    </button>
                </div>
            </form>
            <div class="d-flex justify-content-center pb-5">
                <img v-if="showImg" src="../assets/images/girl-alyssa-milano.gif" class="img-fluid">
            </div>
        </div>
    </div>
    <div v-if="successBanner" style="bottom:0; position:relative;background-color: #d7ffb8;">
    <br><br>
    <div style="postion:absolute">
        <div class="container">
            <div class="col-10 mx-auto">
                <div class="row d-flex justify-content-between align-items-center">
                    <div class="col-md-3">
                        <div class="">
                            <div class="d-flex align-items-center justify-content-between">
                                <div style="background-color: #fff; border-radius: 50%; width: 80px;height:80px;" class="d-flex justify-content-center align-items-center">
                                    <img src="../assets/images/done3.png" class="img-fluid" style="width:41px;height:auto">
                                </div>
                                <div class="d-flex align-items-center pl-5">
                                    <h4 class="" style="color: #58cc02;font-weight:bold">Nicely done!</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="d-flex justify-content-end">
                            <div class="d-flex align-items-center">
                                <router-link :to="{name: 'page8'}">
                                    <button class="btn btn-lg btn-light">
                                        <span style="font-weight:bold">Hallelujaaaaaah ğŸ’¥</span>
                                    </button>
                                </router-link>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br><br>
</div>
</template>